<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition
	xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:a4j="http://richfaces.org/a4j"
    template="../layout/template.xhtml">
    <ui:define name="body">
    	
		<h:form id="cadUserForm">
			
			<rich:panel>
				<f:facet name="header">Cadastro de usuário</f:facet>
	            
				<div class="dialog">
	                <h:panelGrid columns="3" rowClasses="prop" columnClasses="name,value">
		                    <h:outputLabel for="name">Nome</h:outputLabel>
		                    <h:inputText id="name" required="true" value="#{usuarioAction.usuario.nome}">
		                    	<rich:ajaxValidator event="onkeydown" profiles="javax.validation.groups.Default" summary="Nome inválido" />
		                    </h:inputText>
		                    <rich:message for="name" style="color:red;" />
		                    <h:outputLabel for="email">E-mail</h:outputLabel>
		                    <h:inputText id="email" required="true" value="#{usuarioAction.usuario.email}">
		                    	<rich:ajaxValidator event="onkeydown" profiles="javax.validation.groups.Default" summary="Endereço de e-mail inválido" />
		                    </h:inputText>
		                    <rich:message for="email" style="color:red;" />
		                    <h:outputLabel for="login">Login</h:outputLabel>
		                    <h:inputText id="login" required="true" value="#{usuarioAction.usuario.login}">
		                    	<rich:ajaxValidator event="onkeydown" profiles="javax.validation.groups.Default" summary="Login inválido" />
		                    </h:inputText>
		                    <rich:message for="login" style="color:red;" />
		                    <h:outputLabel for="senha">Senha</h:outputLabel>
		                    <h:inputSecret id="senha" required="true" value="#{usuarioAction.usuario.senha}">
		                    	<rich:ajaxValidator event="onkeydown" profiles="javax.validation.groups.Default" summary="Senha inválida" />
		                    </h:inputSecret>
		                    <rich:message for="senha" style="color:red;" />
		                    <h:outputLabel for="confsenha">Confirmar senha</h:outputLabel>
		                    <h:inputSecret id="confsenha" required="true" value="#{usuarioAction.usuario.confSenha}">
		                    	<rich:ajaxValidator event="onkeydown" profiles="javax.validation.groups.Default" summary="Confirmação de senha inválida" />
		                    </h:inputSecret>
		                    <rich:message for="confsenha" style="color:red;" />
						<rich:graphValidator value="#{usuarioAction}">
	                    	<rich:messages for="gv" style="color:red;" />
	                    	<rich:messages globalOnly="true" style="color:red;" />
	                    </rich:graphValidator>
	                </h:panelGrid>
	            </div>
            </rich:panel>
            
            <div class="actionButtons">
            	<h:commandButton action="#{usuarioAction.cadastrarUsuario()}" value="Cadastrar Usuario" />
            	<h:commandButton action="#{session.clearDirty()}" value="Cancelar" rendered="@form" />
        	</div>
            
		</h:form>
		
	</ui:define>
</ui:composition>